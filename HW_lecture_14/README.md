# Программа для моделирования электромагнитных полей на границе двух диэлектриков

## Описание

Этот проект включает в себя программу для моделирования электромагнитных полей на границе двух диэлектриков с разными диэлектрическими проницаемостями. Программа позволяет отображать линии напряженности и смещения на плоскости, а также демонстрировать преломление волн на границе двух сред, используя закон Снеллиуса.

**Файл `main.exe` находится в папке `dist`**. Вы можете запустить его на своей машине для использования программы.

## Основные функции

- **Моделирование электрических и дисперсионных полей**: программа визуализирует линии напряженности и смещения для двух различных диэлектриков. 
- **Преломление волн**: рассчитывается угол преломления на границе двух диэлектриков, используя закон Снеллиуса.
- **Панорамирование и масштабирование**: поддерживаются функции панорамирования и масштабирования для удобства работы с графиками.
- **Поддержка нескольких типов графиков**: можно отображать:
  - Линии напряженности (E)
  - Линии смещения (D)
  - Комбинированный график
  - Линии преломления

## Формулы

1. **Закон Снеллиуса** для преломления волн:

   Закон Снеллиуса описывает соотношение углов падения и преломления волн на границе двух сред с разными показателями преломления:

   n1 * sin(θ1) = n2 * sin(θ2)

   где:
   - n1 и n2 — показатели преломления первой и второй среды соответственно, которые можно выразить через диэлектрические проницаемости ε1 и ε2 как:

     n = sqrt(ε)

   - θ1 — угол падения,
   - θ2 — угол преломления.

   Программа использует этот закон для вычисления угла преломления при заданных значениях угла падения и диэлектрических проницаемостей двух материалов.

2. **Поля E и D**:

   Напряженность электрического поля (E) и смещение (D) на границе двух диэлектриков можно выразить через следующие уравнения:

   Для области 1 (с диэлектрической проницаемостью ε1):
   D1 = ε1 * E1

   Для области 2 (с диэлектрической проницаемостью ε2):
   D2 = ε2 * E2

   В зависимости от угла падения, поля преломляются и изменяются в соответствии с законами электродинамики.

## Описание работы кода

1. **Основной класс `EMFieldPlot`**:
   - Отвечает за расчет и визуализацию электрических полей, линий смещения и преломленных линий.
   - Включает методы для вычисления полей, вычисления углов преломления, а также рисования линий напряженности и смещения на графиках.
   - Поддерживает панорамирование и масштабирование графика с помощью событий мыши.

2. **Метод `compute_fields`**:
   - Этот метод вычисляет значения электрических и смещенных полей на плоскости с использованием значений диэлектрических проницаемостей (ε1 и ε2), угла падения и напряженности электрического поля.

3. **Метод `calculate_refraction_angles`**:
   - Рассчитывает угол преломления с использованием закона Снеллиуса, если угол падения достаточно мал для того, чтобы волна могла преломиться в среде с другим показателем преломления.

4. **Метод `plot_refraction_lines`**:
   - Рисует линии для падающего и преломленного полей, используя рассчитанные углы.

5. **Метод `plot_fields`**:
   - Рисует различные графики в зависимости от выбранного режима: поля E, поля D, комбинированный график или график с преломлением.

6. **Панорамирование и масштабирование**:
   - Программа поддерживает панорамирование (перемещение) и масштабирование (приближение/удаление) для удобства работы с графиками.

## Пример использования

1. Запустите программу.
2. Установите значения для:
   - ε1 (диэлектрическая проницаемость первой среды)
   - ε2 (диэлектрическая проницаемость второй среды)
   - E0 (напряженность электрического поля)
   - θ (угол падения в градусах)
   - Пределы графика по осям X и Y.
3. Выберите тип отображаемого графика (линии напряженности, линии смещения, комбинированный график или линии преломления).
4. Просматривайте результаты на графике.

## Требования

- Python 3.x
- PyQt5
- Matplotlib
- Numpy

Для установки зависимостей используйте:

```pypy
pip install PyQt5 matplotlib numpy
```